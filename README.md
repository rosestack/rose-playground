# Rose 企业级单体应用平台

> 一个基于 Spring Boot 3.x 的现代化企业级单体应用平台，集成多租户 SaaS、计费系统、物联网、认证授权、通知系统等核心业务模块。

## 🎯 项目愿景

Rose 平台旨在构建一个功能完整、架构清晰、可扩展的企业级应用平台，为中小企业提供开箱即用的 SaaS
解决方案。通过模块化设计，支持按需启用功能，满足不同业务场景的需求。

## 🏗️ 技术架构

### 核心技术栈

- **Java 17+** - 现代化 Java 特性
- **Spring Boot 3.x** - 主框架
- **Spring Security** - 安全认证和授权
- **MyBatis Plus** - 数据访问层
- **MySQL 8.0** - 主数据库
- **Redis** - 缓存和会话存储
- **Maven** - 构建工具
- **Docker** - 容器化部署

### 架构设计原则

- **技术分层架构** - 清晰的分层结构
- **模块化设计** - 松耦合、高内聚的模块设计
- **多租户支持** - 数据隔离和租户管理
- **可配置化** - 功能模块可独立启用/禁用
- **扩展性优先** - 支持插件化扩展

## 📦 核心模块

### 🔐 认证授权系统 (rose-auth-spring-boot-starter)

基于 Spring Security 的企业级认证授权解决方案

- **多因子认证 (MFA)** - TOTP、短信、邮箱验证
- **JWT 无状态认证** - 支持分布式部署
- **RBAC 权限控制** - 角色和权限精细化管理
- **OAuth2 集成** - 社交登录和第三方集成
- **会话管理** - 灵活的会话存储策略

### 👥 身份访问管理 (rose-iam-service)

企业级身份和访问管理服务

- **用户生命周期管理** - 用户注册、激活、禁用
- **组织架构管理** - 部门、岗位、层级关系
- **权限策略引擎** - 动态权限计算和评估
- **审计日志** - 完整的操作审计追踪

### 🏢 多租户 SaaS 系统 (rose-server)

支持多租户的 SaaS 平台核心

- **租户隔离** - 数据、配置、资源完全隔离
- **租户管理** - 租户注册、配置、监控
- **资源配额** - 灵活的资源限制和计费
- **个性化配置** - 租户级别的功能定制

### 💰 计费系统 (rose-billing-service)

灵活的订阅和计费管理系统

- **订阅管理** - 多种订阅模式支持
- **计费策略** - 按量计费、包月包年、阶梯计费
- **发票管理** - 自动生成和发送发票
- **支付集成** - 支持多种支付方式
- **财务报表** - 收入分析和财务统计

### 🌐 物联网系统 (rose-iot-service)

企业级物联网设备管理平台

- **设备管理** - 设备注册、配置、监控
- **数据采集** - 实时数据收集和处理
- **规则引擎** - 灵活的业务规则配置
- **告警系统** - 智能告警和通知
- **数据分析** - 设备数据统计和分析

### 📢 通知系统 (rose-notification-service)

统一的消息通知服务

- **多渠道通知** - 邮件、短信、推送、站内信
- **模板管理** - 灵活的消息模板配置
- **批量发送** - 高效的批量消息处理
- **发送状态追踪** - 完整的发送状态监控
- **通知偏好** - 用户个性化通知设置

### 🌍 国际化支持 (rose-i18n)

完整的多语言国际化解决方案

- **多语言支持** - 界面和内容的多语言切换
- **动态翻译** - 运行时语言包加载
- **本地化配置** - 时区、货币、日期格式
- **翻译管理** - 在线翻译编辑和管理

## 🔧 MyBatis 增强工具详细特性

### 🏢 多租户支持

- **自动租户隔离**：基于 InheritableThreadLocal，支持父子线程传递
- **灵活配置**：支持自定义忽略表和前缀
- **零侵入**：无需修改现有代码，自动添加租户条件
- **性能优化**：使用 JSqlParser 缓存提升 SQL 解析性能

### 🔐 字段加密解密

- **多种算法**：支持 AES、DES、3DES 加密算法
- **可搜索加密**：生成哈希字段支持精准查询
- **自动处理**：插入时加密，查询时解密
- **配置灵活**：支持动态开启/关闭，失败策略可配置
- **密钥管理**：支持外部密钥配置和密钥管理系统集成

### 🎭 数据脱敏

- **多种类型**：手机号、身份证、邮箱、银行卡、姓名、地址
- **自定义规则**：支持自定义脱敏规则
- **集合支持**：支持单个对象和集合对象的脱敏
- **环境控制**：可配置在特定环境启用
- **性能优化**：反射缓存和批量处理

### 🛡️ 动态数据权限

- **多维度权限**：支持用户、部门、组织、角色等
- **自动 SQL 改写**：透明添加权限条件，支持多表 JOIN
- **灵活范围**：支持本人、本部门、全部等多种范围
- **表别名支持**：智能识别多表查询中的表别名
- **注解驱动**：基于注解的权限控制，简单易用

### 📋 SQL 审计

- **操作审计**：记录增删改查操作
- **性能监控**：记录执行时间和慢查询
- **安全追踪**：记录用户和租户信息
- **可配置**：支持选择性记录 SQL 和参数
- **存储扩展**：支持自定义审计存储实现

### 🛠️ 核心工具库 (rose-core)

通用工具和基础组件

- **工具类集合** - 常用工具方法封装
- **异常处理** - 统一异常处理机制
- **数据验证** - 通用数据验证组件
- **缓存抽象** - 多级缓存支持
- **线程池管理** - 线程池配置和监控

### 🗄️ MyBatis 增强工具 (rose-mybatis-spring-boot-starter)

企业级 MyBatis Plus 增强工具包

- **多租户支持** - 自动租户隔离，支持父子线程传递
- **字段加密解密** - AES/DES/3DES 自动加密，支持可搜索加密
- **数据脱敏** - 手机号、身份证、邮箱等敏感信息自动脱敏
- **动态数据权限** - 多维度权限控制，自动 SQL 改写
- **SQL 审计** - 操作审计、性能监控、安全追踪
- **字段自动填充** - 创建时间、更新时间等字段自动填充
- **乐观锁支持** - 自动版本控制和并发冲突检测

## 🚀 未来模块规划

以下模块正在规划中，将在后续版本中逐步实现，进一步完善企业级 SaaS 平台的功能生态：

### 🔄 工作流引擎 (rose-workflow-service)

企业级业务流程自动化引擎

- **流程设计器** - 可视化流程建模和设计
- **流程执行引擎** - 高性能的流程执行引擎
- **任务管理** - 人工任务分配和处理
- **流程监控** - 实时流程状态监控和分析
- **表单引擎** - 动态表单生成和数据收集
- **规则引擎** - 业务规则配置和执行
- **流程版本管理** - 流程版本控制和升级
- **集成接口** - 与第三方系统的流程集成

### 👥 客户关系管理 (rose-crm-service)

全功能客户关系管理系统

- **客户档案管理** - 360度客户信息视图
- **销售机会管理** - 销售漏斗和机会跟踪
- **客户沟通记录** - 完整的客户互动历史
- **销售预测** - 基于数据的销售预测分析
- **客户分群** - 智能客户分类和标签
- **营销活动** - 营销活动策划和执行
- **客户服务** - 工单系统和服务质量管理
- **报表分析** - 销售和客户数据分析报表

### 📋 项目管理系统 (rose-project-service)

敏捷项目管理和协作平台

- **项目规划** - 项目创建、里程碑和计划管理
- **任务管理** - 任务分配、跟踪和状态管理
- **团队协作** - 团队成员协作和沟通
- **时间跟踪** - 工时记录和项目成本核算
- **文档管理** - 项目文档存储和版本控制
- **甘特图** - 项目进度可视化展示
- **敏捷看板** - Scrum/Kanban 敏捷开发支持
- **项目报告** - 项目进度和绩效分析

### 👨‍💼 人力资源管理 (rose-hr-service)

现代化人力资源管理系统

- **员工档案** - 完整的员工信息管理
- **组织架构** - 部门、岗位和汇报关系
- **招聘管理** - 招聘流程和候选人管理
- **绩效考核** - 绩效目标设定和评估
- **薪酬管理** - 薪资结构和福利管理
- **考勤管理** - 考勤记录和假期管理
- **培训管理** - 员工培训计划和记录
- **员工自助** - 员工自助服务门户

### 🛡️ 安全与合规模块 (rose-security-compliance)

企业级安全治理和合规管理

- **数据安全中心** - 数据分类、加密和访问控制
- **安全审计** - 全面的安全事件审计和分析
- **合规管理** - 法规遵循和合规检查
- **风险评估** - 安全风险识别和评估
- **安全策略** - 安全策略配置和执行
- **漏洞管理** - 安全漏洞扫描和修复
- **事件响应** - 安全事件响应和处理
- **合规报告** - 自动化合规报告生成

### 🔌 集成与扩展模块 (rose-integration-service)

企业系统集成和扩展平台

- **API 网关** - 统一 API 管理和路由
- **数据集成** - ETL 数据抽取、转换和加载
- **消息中间件** - 异步消息处理和事件驱动
- **第三方集成** - 常用第三方服务集成适配器
- **插件系统** - 可扩展的插件架构
- **连接器管理** - 系统连接器配置和管理
- **数据同步** - 实时和批量数据同步
- **集成监控** - 集成流程监控和告警

### 📋 任务平台 (rose-task-service)

企业级任务调度和执行平台

- **任务调度引擎** - 分布式任务调度和执行
- **定时任务管理** - Cron 表达式和灵活调度策略
- **任务监控** - 实时任务状态监控和告警
- **任务依赖管理** - 复杂任务依赖关系配置
- **失败重试机制** - 智能重试策略和错误处理
- **任务日志** - 完整的任务执行日志和审计
- **资源管理** - 任务执行资源分配和限制
- **任务模板** - 可复用的任务模板和配置

### 🎨 低代码平台 (rose-lowcode-service)

企业级低代码开发平台

- **可视化设计器** - 拖拽式界面设计工具
- **表单引擎** - 动态表单生成和验证
- **流程引擎** - 可视化业务流程设计
- **数据建模** - 可视化数据模型设计
- **组件库** - 丰富的UI组件和业务组件
- **代码生成** - 自动代码生成和部署
- **应用市场** - 应用模板和组件市场
- **多端适配** - PC、移动端自适应

### 🏪 电商平台 (rose-ecommerce-service)

企业级电商和交易平台

- **商品管理** - 商品信息、分类、库存管理
- **订单系统** - 订单处理、支付、物流跟踪
- **购物车** - 购物车和收藏夹功能
- **促销引擎** - 优惠券、折扣、营销活动
- **支付网关** - 多种支付方式集成
- **物流管理** - 物流配送和跟踪
- **评价系统** - 商品评价和反馈管理
- **数据分析** - 销售数据分析和报表

### 📱 移动端支持 (rose-mobile-service)

企业级移动应用支持平台

- **移动API** - 移动端专用API接口
- **推送服务** - 消息推送和通知
- **离线同步** - 数据离线缓存和同步
- **移动安全** - 移动端安全认证和加密
- **设备管理** - 移动设备注册和管理
- **应用更新** - 应用版本管理和热更新
- **性能监控** - 移动应用性能监控
- **用户行为分析** - 移动端用户行为追踪

### 🤖 AI 智能服务 (rose-ai-service)

企业级人工智能服务平台

- **智能客服** - AI聊天机器人和自动回复
- **文本分析** - 自然语言处理和情感分析
- **图像识别** - 图像分类、OCR文字识别
- **推荐引擎** - 个性化推荐算法
- **预测分析** - 业务预测和趋势分析
- **语音识别** - 语音转文字和语音助手
- **机器学习** - 模型训练和部署平台
- **知识图谱** - 企业知识图谱构建

## 📅 实施路线图

### 第一阶段 (当前) - 核心基础

- ✅ 认证授权系统
- ✅ 身份访问管理
- ✅ 多租户 SaaS 核心
- ✅ 计费系统
- ✅ 物联网系统
- ✅ 通知系统
- ✅ 国际化支持
- ✅ MyBatis 增强工具 (多租户、加密、脱敏、权限控制)

### 第二阶段 (规划中) - 业务扩展

- 🔄 工作流引擎
- 👥 客户关系管理
- 📋 项目管理系统
- 👨‍💼 人力资源管理
- 📋 任务平台
- 📁 文档管理系统

### 第三阶段 (未来) - 高级功能

- 🛡️ 安全与合规模块
- 🔌 集成与扩展模块
- 📊 数据分析与商业智能
- 🎨 低代码平台
- 🏪 电商平台

### 第四阶段 (远期) - 智能化与生态

- 📱 移动端支持
- 🤖 AI 智能服务
- 🌐 多云部署支持
- 🔄 微服务架构演进
- 🌍 全球化部署

## 📄 许可证

本项目采用 [MIT 许可证](LICENSE) - 查看 LICENSE 文件了解详情。

## 📞 联系我们

- 项目主页: https://github.com/your-org/rose-monolithic
- 问题反馈: https://github.com/your-org/rose-monolithic/issues
- 邮箱: support@rose-platform.com
- 文档: https://docs.rose-platform.com

---

**Rose Platform** - 让企业级应用开发更简单 🌹