# Rose 计费系统配置
rose:
  billing:
    enabled: true
    default-currency: USD
    default-tax-rate: 0.1
    invoice-due-days: 30
    overdue-grace-days: 3
    usage-data-retention-days: 180

    # 支付配置
    payment:
      stripe:
        enabled: false
        public-key: ${STRIPE_PUBLIC_KEY:}
        secret-key: ${STRIPE_SECRET_KEY:}
        webhook-secret: ${STRIPE_WEBHOOK_SECRET:}
      alipay:
        enabled: false
        app-id: ${ALIPAY_APP_ID:}
        private-key: ${ALIPAY_PRIVATE_KEY:}
        public-key: ${ALIPAY_PUBLIC_KEY:}

    # 通知配置
    notification:
      email-enabled: true
      sms-enabled: false
      invoice-generated-template: INVOICE_GENERATED
      payment-confirmation-template: PAYMENT_CONFIRMATION
      overdue-notification-template: OVERDUE_NOTIFICATION

# MyBatis Plus 配置
mybatis-plus:
  configuration:
    # 开启驼峰命名转换
    map-underscore-to-camel-case: true
    # 开启缓存
    cache-enabled: true
    # 日志实现
    log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl
  global-config:
    db-config:
      # 主键策略
      id-type: assign_id
      # 逻辑删除字段
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0
      # 字段填充策略
      insert-strategy: not_null
      update-strategy: not_null
      select-strategy: not_empty

# 定时任务配置
logging:
  level:
    io.github.rose.billing.scheduler: INFO
    io.github.rose.billing.service: DEBUG
